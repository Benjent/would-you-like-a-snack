<!DOCTYPE html>
<html>
    <head>
        <title>Would you like a snack</title>
        <meta charset="UTF-8">
        <meta name="description" content="Explore what Prog music has to offer" />
        <link rel="icon" type="image/ico" href="img/favicon.svg"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
        <link rel="stylesheet" href="style/style.css">
        <script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
    </head>
    <body>

        <div id="indexVue">

            <header>
                <button id="atticButton" v-if="currentVue == 'albumVue'" v-on:click="setCurrentVue('atticVue')">What's in the attic</button>
                <button id="randomButton" v-if="currentVue == 'atticVue'" v-on:click="setCurrentVue('albumVue')">Surprise me</button>
                <h1>Would you like a Prog snack</h1>
                <div id="collectionSize">{{albums.length}} albums</div>
            </header>

            <div id="spinningVinylWrapper">
                <img class="spinning-vinyl spinning" src="img/vinyle gold.png" alt="">
            </div>

            <section id="albumVue" v-if="currentVue == 'albumVue'">

                <button id="randomButton" v-on:click="randomizeAlbum">Surprise me</button>

                <div class="content">
                    <div class="album-metadata">
                        <div class="album-title">{{selectedAlbum.title}}</div>
                        <div class="album-artist">{{selectedAlbum.artist}}</div>
                        <div class="album-year">{{selectedAlbum.year}}</div>
                        <div class="album-country">{{selectedAlbum.country}}</div>
                        <div class="album-selected-track">Selected track: {{selectedAlbum.selectedTrackTitle}}</div>
                        <a v-if="selectedAlbum.selectedTrackYtId" v-bind:href=selectedAlbum.selectedTrackYtId target="_blank">
                            <div class="album-selected-track-url">Listen on YouTube</div>
                        </a>
                        <!-- <div id="player" v-if="currentVue == 'albumVue'"></div> -->
                    </div>
                    <img v-bind:src=selectedAlbum.cover alt="">
                    <div class="album-criteria">
                        <div class="album-criterium" v-for="criterium in computedCriteria">{{criterium}}</div>
                    </div>
                </div>

                <footer id="randomVue">
                    <img v-for="album in randomAlbums" v-bind:id="album.id" v-bind:src=album.cover v-on:click="selectAlbumAndRandomize($event)" alt="">
                </footer>
            </section>

            <section id="atticVue" v-if="currentVue == 'atticVue'">
                <div class="artist" v-for="artist in artists">
                    <div class="artist-name">{{artist}}</div>
                    <div class="artist-discography">
                        <div class="album-wrapper" v-for="album in albums" v-if="album.artist == artist">
                            <span class="album-year">{{album.year}}</span>
                            <img class="album" v-bind:id="album.id" v-bind:src=album.cover v-on:click="setAlbumVueAndselectAlbum($event)" alt="">
                        </div>
                    </div>
                </div>
            </section>

        </div>

        <script type="text/javascript" src="js/criteria.js"></script>
        <script type="text/javascript" src="js/albums.js"></script>
        <script src="js/main.js"></script>
    </body>
    
</html>